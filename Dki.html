<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đăng ký</title>
  <link rel="stylesheet" href="Dki.css">
</head>
<body>

  <div class="register-box">
    <a href="index.html" class="close-btn">×</a>

    <h2>ĐĂNG KÝ</h2>

    <input type="text" id="username" placeholder="Nhập tên tài khoản">
    <input type="text" id="email" placeholder="Nhập sdt/email">
    <input type="password" id="password" placeholder="Nhập mật khẩu">
    <input type="password" id="confirmPassword" placeholder="Xác nhận mật khẩu">

    <a href="login.html" class="login-link">Đã có tài khoản? Đăng nhập</a>

    <button onclick="register()">Đăng ký</button>
    <p id="message"></p>
  </div>

  <script>
    
   
function register() {
  const username = document.getElementById("username").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const confirmPassword = document.getElementById("confirmPassword").value.trim();
  const msg = document.getElementById("message");

  if (!username || !email || !password || !confirmPassword) {
    msg.style.color = "red";
    msg.textContent = "Vui lòng điền đầy đủ thông tin!";
    return;
  }

  if (password !== confirmPassword) {
    msg.style.color = "red";
    msg.textContent = "Mật khẩu không khớp!";
    return;
  }

  // --- LẤY DANH SÁCH USER ĐANG LƯU TRONG LOCALSTORAGE ---
  let users = JSON.parse(localStorage.getItem("users")) || [];

  // --- KIỂM TRA TRÙNG ---
  const exists = users.find(u => u.username === username || u.email === email);

  if (exists) {
    msg.style.color = "red";
    msg.textContent = "Tài khoản hoặc email đã tồn tại!";
    return;
  }

  // --- LƯU USER MỚI ---
  users.push({ username, email, password });
  localStorage.setItem("users", JSON.stringify(users));

  msg.style.color = "green";
  msg.textContent = "Đăng ký thành công! Bạn có thể đăng nhập.";
}
</script>

  </script>

</body>
</html>
